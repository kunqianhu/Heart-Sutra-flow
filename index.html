<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>心经流动版</title>
<style>
    body {
        margin: 0;
        background-color: #c7d8c0; /* 柔和豆绿色背景 */
        height: 100vh;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .scroll-container {
        position: relative;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        font-family: "STKaiti", "KaiTi", serif;
        font-size: 8rem; /* 大字体，保证屏幕上最多看到3个字 */
        line-height: 1.2;
        color: rgba(0, 0, 0, 0.8);
    }

    .char {
        text-align: center;
        opacity: 0.2;
        filter: blur(2px);
        transition: all 0.5s ease;
    }

    .char.center {
        opacity: 1;
        filter: none;
        text-shadow: 0 0 20px rgba(255, 255, 255, 0.8), 
                     0 0 40px rgba(255, 255, 255, 0.5); /* 柔和发光 */
    }
</style>
</head>
<body>

<div class="scroll-container" id="scrollContainer"></div>

<script>
const text = "观自在菩萨，行深般若波罗蜜多时，照见五蕴皆空，度一切苦厄……"; // 可替换为完整心经
const container = document.getElementById("scrollContainer");

// 把每个字拆分成 div
const chars = text.split("").map(ch => {
    const span = document.createElement("div");
    span.className = "char";
    span.textContent = ch;
    container.appendChild(span);
    return span;
});

let index = 0;
function scrollText() {
    chars.forEach((span, i) => {
        span.classList.remove("center");
        span.style.opacity = "0.2";
        span.style.filter = "blur(2px)";
    });

    // 当前字为中间的
    chars[index].classList.add("center");

    // 上一个和下一个稍微清晰一点
    if (index > 0) chars[index - 1].style.opacity = "0.5";
    if (index < chars.length - 1) chars[index + 1].style.opacity = "0.5";

    index++;
    if (index >= chars.length) index = 0;

    // 滚动效果
    container.style.transform = `translateY(${-index * 1.2}em)`;
}

// 初始化位置
container.style.transform = `translateY(0)`;

// 每1秒切换一个字
setInterval(scrollText, 1000);
</script>

</body>
</html>
